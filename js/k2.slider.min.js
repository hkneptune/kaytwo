function K2Slider(d,a,c){var b=this;this.handle=jQuery(d);this.track=jQuery(a);this.options=c||{};this.value=this.options.value||0;this.maximum=this.options.maximum||1;this.minimum=this.options.minimum||0;this.trackLength=this.track.width();this.handleLength=this.handle.width();this.handle.css("position","absolute");this.active=false;this.dragging=false;this.setValue(this.value);this.handle.mousedown(function(e){b.active=true;var g=b.pointerX(e);var f=b.track.offset();b.setValue(b.translateToValue(g-f.left-(b.handleLength/2)));
var f=b.handle.offset();b.offsetX=(g-f.left)});this.track.mousedown(function(e){var g=b.track.offset();var f=b.pointerX(e);b.setValue(b.translateToValue(f-g.left-(b.handleLength/2)))});jQuery(document).mouseup(function(e){if(b.active&&b.dragging){b.active=false;b.dragging=false;b.updateFinished(b)}b.dragging=false;b.active=false});jQuery(document).mousemove(function(e){if(b.active){if(!b.dragging){b.dragging=true}b.draw(e);if(navigator.appVersion.indexOf("AppleWebKit")>0){window.scrollBy(0,0)}}});
this.initialized=true}K2Slider.prototype.getNearestValue=function(a){if(a>this.maximum){return this.maximum}if(a<this.minimum){return this.minimum}return a};K2Slider.prototype.setValue=function(a){this.value=this.getNearestValue(a);this.handle.css("left",this.translateToPx(this.value));if(!this.dragging||!this.event){this.updateFinished(this)}};K2Slider.prototype.setValueBy=function(a){this.setValue(this.value+a)};K2Slider.prototype.translateToPx=function(a){return Math.round(((this.trackLength-this.handleLength)/(this.maximum-this.minimum))*(a-this.minimum))+"px"
};K2Slider.prototype.translateToValue=function(a){return Math.round(((a/(this.trackLength-this.handleLength)*(this.maximum-this.minimum))+this.minimum))};K2Slider.prototype.draw=function(a){var c=this.pointerX(a);var b=this.track.offset();c-=this.offsetX+b.left;this.event=a;this.setValue(this.translateToValue(c));if(this.initialized&&this.options.onSlide){this.options.onSlide(this.value)}};K2Slider.prototype.updateFinished=function(a){if(a.initialized&&a.options.onChange){a.options.onChange(a.value)
}a.event=null};K2Slider.prototype.pointerX=function(a){return a.pageX||(a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft))};K2Slider.prototype.isLeftClick=function(a){return(((a.which)&&(a.which==1))||((a.button)&&(a.button==1)))};